var T=Object.defineProperty,V=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var L=(e,t,i)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,d=(e,t)=>{for(var i in t||(t={}))O.call(t,i)&&L(e,i,t[i]);if(b)for(var i of b(t))j.call(t,i)&&L(e,i,t[i]);return e},m=(e,t)=>V(e,N(t));import{v as u,c as B,m as x,a as y,o as p,b as h,d as f,t as C,e as G,n as U,f as D,r as v,g as $,w as X,h as Z,F as q,i as K,j as H,k as J}from"./vendor.2e023b3b.js";const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}};Q();const Y=()=>({started:"yes"}),ee={},te={},ie={};var ne={actions:te,mutations:ie,state:Y,getters:ee};const M="activate_area",R="move_area",F="deactivate_area",W="resizing_AREA",k="update_list",E="area_toggle",P="rearrange_area",S="set_list",I="resize_area",oe=()=>({list:[],originalList:[{name:"Area 1",original_position:1,current_position:1,id:1,is_active:!1,width:0,pixel_width:0,uid:u()},{name:"Area 2",original_position:2,current_position:3,id:2,is_active:!1,width:0,pixel_width:0,uid:u()},{name:"Area 3",original_position:3,current_position:3,id:3,is_active:!1,width:0,pixel_width:0,uid:u()},{name:"Area 4",original_position:4,current_position:4,id:4,is_active:!1,width:0,pixel_width:0,uid:u()},{name:"Area 5",original_position:5,current_position:5,id:5,is_active:!1,width:0,pixel_width:0,uid:u()}]}),se={},ae={[M]({commit:e},t=null){let i=null;return typeof t=="number"?e(E,{areaId:t,show:!0}):i="`areaId` needs to be a number.",i},[F]({commit:e},t=null){let i=null;return typeof t=="number"?e(E,{areaId:t,show:!1}):i="`areaId` needs to be a number.",i},[R]({commit:e},{oldIndex:t,newIndex:i}){e(P,{oldIndex:t,newIndex:i})},[k]({commit:e},t){e(S,t)},[W]({commit:e},{id:t,sizeDiff:i}){e(I,{id:t,sizeDiff:i})}},re=e=>e.map(t=>{const i=window.innerWidth;return t.pixel_width===0&&(t.pixel_width=100),t.width=t.pixel_width/i*100,d({},t)}),le={[E](e,{areaId:t,show:i}){const{originalList:r,list:o}=e;let n=o;if(i===!0){const a=r.find(l=>l.id===t),g=parseFloat((100/(n.length+1)).toFixed(2)),w=100-g;if(console.log("file: areas.module.js | line 124 | remainingPart",w),n=n.map(l=>{console.log("file: areas.module.js | line 131 | newList=newList.map | item.width",l.width);const c=parseFloat((w*l.width/100).toFixed(2));return console.log("file: areas.module.js | line 128 | newList=newList.map | newPercent",c),m(d({},l),{width:c})}),a.is_active=!0,a.width=g,a.original_position<n.length)n.splice(a.original_position-1,0,a);else{let l=-1;for(let c=0;c<length;c+=1)n[c].original_position>a.original_position&&c>0&&n[c].original_position<n[c-1].original_position&&(l=c);l!==-1?n.splice(l,0,a):n.push(a),console.log("file: areas.module.js | line 151 | newList",n)}}else e.originalList=r.map(a=>m(d({},a),{is_active:a.id===t?!1:a.is_active,uid:u()})),n=o.filter(a=>a.id!==t);const s=window.innerWidth;e.list=n.map((a,_)=>m(d({},a),{current_position:_+1,pixel_width:s/(100/a.width),uid:u()}))},[I](e,{id:t,sizeDiff:i}){const{list:r}=e,o=r.findIndex(n=>n.id===t);e.list[o].pixel_width+=i,e.list[o+1].pixel_width-=i,e.list=re(e.list)},[P](e){const{list:t}=e;e.list=t.map((i,r)=>m(d({},i),{current_position:r+1,uid:u()}))},[S](e,t){e.list=t.map((i,r)=>m(d({},i),{current_position:r+1,uid:u()}))}};var de={state:oe,actions:ae,getters:se,mutations:le},ce=B({modules:{base:ne,areas:de}}),A=(e,t)=>{const i=e.__vccOpts||e;for(const[r,o]of t)i[r]=o;return i};const _e={name:"AreaComponent",data(){return{area:null,containerWidth:0}},props:{element:Object},computed:d({},x({list:({areas:e})=>e.list})),mounted(){this.area=document.getElementById(`area-${this.element.id}`)},methods:m(d({},y({deActivateArea:F,resizeArea:W})),{downMouse(e){const{target:t,pageX:i}=e;let r=t.parentElement;const{addEventListener:o,removeEventListener:n}=window;let{offsetWidth:s}=r;const a=(l,c=0)=>{let z=l+c;return r.style.width=z+"px"};let _=0;const g=function({pageX:l}){_=a(s,l-i)},w=()=>{const l=parseFloat(_.replace("px",""));console.log("file: Area.vue | line 76 | onMouseUp | width",l),this.resizeArea({id:this.element.id,sizeDiff:l-s}),n("mousemove",g),n("mouseup",w)};o("mousemove",g),o("mouseup",w)}})},ue=["id"],pe={class:"area__header"},me=f("div",{class:"area__handle"},[f("i",{class:"icon icon__move"},"\u2725")],-1),fe={class:"area__close"},he={class:"area__content"};function ge(e,t,i,r,o,n){return p(),h("div",{class:"area",id:`area-${i.element.id}`,style:U(`width:${i.element.pixel_width}px`)},[f("div",pe,[me,f("div",fe,[f("i",{class:"icon icon__close",onClick:t[0]||(t[0]=s=>e.deActivateArea(i.element.id))},"\xD7")])]),f("div",he,"Area "+C(i.element.id),1),e.list.findIndex(s=>s.id===i.element.id)+1!==e.list.length?(p(),h("div",{key:0,class:"area__divider",onMousedown:t[1]||(t[1]=(...s)=>n.downMouse&&n.downMouse(...s))},null,32)):G("",!0)],12,ue)}var we=A(_e,[["render",ge]]);const ve={name:"WindowComponent",data:()=>({}),components:{Area:we,draggable:D},computed:{list:{get(){return this.$store.state.areas.list.filter(e=>e.is_active)},set(e){this.$store.dispatch(k,e)}}},methods:d({},y({moveArea:R}))},Ae={class:"window"};function $e(e,t,i,r,o,n){const s=v("Area"),a=v("draggable");return p(),h("div",Ae,[$(a,{onChange:e.moveArea,handle:".area__handle",modelValue:n.list,"onUpdate:modelValue":t[0]||(t[0]=_=>n.list=_),tag:"transition-group","item-key":"uid"},{item:X(({element:_})=>[(p(),Z(s,{key:_.uid,element:_},null,8,["element"]))]),_:1},8,["onChange","modelValue"])])}var Ee=A(ve,[["render",$e]]);const xe={name:"FooterComponent",methods:m(d({},y({activateArea:M})),{addArea(e){const{target:t}=e,i=t.getAttribute("data-area-id");this.activateArea(parseInt(i,10))}}),computed:d({},x({list:({areas:e})=>e.originalList}))},ye={class:"footer"},be=["disabled","data-area-id"],Le=f("textarea",{name:"config",id:"config",cols:"30",rows:"5"},null,-1),Ce=f("button",{class:"footer__btn"},"Adjust Structure",-1);function Me(e,t,i,r,o,n){return p(),h("footer",ye,[(p(!0),h(q,null,K(e.list,s=>(p(),h("button",{key:s.id,class:H(["footer__btn",s.is_active?"footer__btn--disabled":""]),disabled:s.is_active,onClick:t[0]||(t[0]=(...a)=>n.addArea&&n.addArea(...a)),"data-area-id":s.id}," Add Area "+C(s.id),11,be))),128)),Le,Ce])}var Re=A(xe,[["render",Me]]);const Fe={name:"MainComponent",components:{Window:Ee,Footer:Re}};function We(e,t,i,r,o,n){const s=v("Window"),a=v("Footer");return p(),h("main",null,[$(s),$(a)])}var ke=A(Fe,[["render",We]]);const Pe={name:"App",components:{Main:ke},computed:d({},x({test:({base:e})=>e.started}))};function Se(e,t,i,r,o,n){const s=v("Main");return p(),h("div",null,[$(s)])}var Ie=A(Pe,[["render",Se]]);J(Ie).use(ce).mount("#app");
